From d76e6b85f28891eecded962793fb8a02cdf26f39 Mon Sep 17 00:00:00 2001

From: Lars-Peter Clausen <lars@metafoo.de>

Subject: [PATCH] /opt/Projects/openwrt/target/linux/xburst/patches-2.6.31/500-modifier-keys.patch
---

 drivers/char/defkeymap.map |   80 ++++++++++++++++++++++++++++++--------------
 1 files changed, 54 insertions(+), 26 deletions(-)


Index: linux-2.6.32.10/drivers/char/defkeymap.map
===================================================================
--- linux-2.6.32.10.orig/drivers/char/defkeymap.map	2010-03-15 23:52:04.000000000 +0800
+++ linux-2.6.32.10/drivers/char/defkeymap.map	2010-06-04 21:50:10.855160218 +0800
@@ -1,5 +1,5 @@
 # Default kernel keymap. This uses 7 modifier combinations.
-keymaps 0-2,4-5,8,12
+keymaps 0-2,4-5,8,12,64
 # Change the above line into
 #	keymaps 0-2,4-6,8,12
 # in case you want the entries
@@ -47,22 +47,36 @@
 	alt	keycode  12 = Meta_minus      
 keycode  13 = equal            plus            
 	alt     keycode  13 = Meta_equal      
+	altgr   keycode  13 = asciitilde 
+	ctrll   keycode  13 = three
 keycode  14 = Delete           Delete          
-	control keycode  14 = BackSpace
+	altgr   keycode  14 = BackSpace
 	alt     keycode  14 = Meta_Delete     
 keycode  15 = Tab              Tab             
 	alt     keycode  15 = Meta_Tab        
 keycode  16 = q               
+	altgr   keycode  16 = exclam
 keycode  17 = w               
+	altgr   keycode  17 = at
 keycode  18 = e
-	altgr   keycode  18 = Hex_E   
+	altgr   keycode  18 = numbersign
 keycode  19 = r               
+	altgr   keycode  19 = dollar
 keycode  20 = t               
+	altgr   keycode  20 = percent
 keycode  21 = y               
+	altgr   keycode  21 = asciicircum 
 keycode  22 = u               
+	altgr   keycode  22 = ampersand
+	ctrll   keycode  22 = seven
 keycode  23 = i               
+	altgr   keycode  23 = asterisk
+	ctrll   keycode  23 = eight
 keycode  24 = o               
+	altgr   keycode  24 = parenleft
+	ctrll   keycode  24 = nine
 keycode  25 = p               
+	altgr   keycode  25 = parenright
 keycode  26 = bracketleft      braceleft       
 	control keycode  26 = Escape          
 	alt     keycode  26 = Meta_bracketleft
@@ -71,27 +85,34 @@
 	alt     keycode  27 = Meta_bracketright
 keycode  28 = Return          
 	alt     keycode  28 = Meta_Control_m  
-keycode  29 = Control         
+keycode  29 = CtrlL         
 keycode  30 = a
-	altgr   keycode  30 = Hex_A
+	altgr   keycode  30 = U+00B0
 keycode  31 = s               
+	altgr   keycode  31 = U+00A8
 keycode  32 = d
-	altgr   keycode  32 = Hex_D   
+	altgr   keycode  32 = U+20AC
 keycode  33 = f
-	altgr   keycode  33 = Hex_F               
+	altgr   keycode  33 = minus
 keycode  34 = g               
+	altgr   keycode  34 = underscore
 keycode  35 = h               
+	altgr   keycode  35 = braceleft
 keycode  36 = j               
+	altgr   keycode  36 = bracketleft
+	ctrll   keycode  36 = four
 keycode  37 = k               
+	altgr   keycode  37 = bracketright
+	ctrll   keycode  37 = five
 keycode  38 = l               
+	altgr   keycode  38 = braceright
+	ctrll   keycode  38 = six
 keycode  39 = semicolon        colon           
 	alt     keycode  39 = Meta_semicolon  
 keycode  40 = apostrophe       quotedbl        
 	control keycode  40 = Control_g       
 	alt     keycode  40 = Meta_apostrophe 
-keycode  41 = grave            asciitilde      
-	control keycode  41 = nul             
-	alt     keycode  41 = Meta_grave      
+keycode  41 = U+00B4           grave
 keycode  42 = Shift           
 keycode  43 = backslash        bar             
 	control keycode  43 = Control_backslash
@@ -104,16 +125,21 @@
 keycode  48 = b
 	altgr   keycode  48 = Hex_B
 keycode  49 = n               
+	altgr   keycode  49 = less
+	ctrll   keycode  49 = one
 keycode  50 = m               
-keycode  51 = comma            less            
-	alt     keycode  51 = Meta_comma      
-keycode  52 = period           greater         
+	altgr   keycode  50 = greater
+	ctrll   keycode  50 = two
+keycode  51 = comma            semicolon
+	altgr   keycode  51 = apostrophe
+keycode  52 = period           colon
 	control keycode  52 = Compose         
-	alt     keycode  52 = Meta_period     
+	altgr   keycode  52 =  quotedbl
 keycode  53 = slash            question        
 	control keycode  53 = Delete          
 	alt     keycode  53 = Meta_slash      
-keycode  54 = Shift           
+	ctrll   keycode  53 = zero
+keycode  54 = AltGr
 keycode  55 = KP_Multiply     
 keycode  56 = Alt             
 keycode  57 = space            space           
@@ -204,11 +230,11 @@
 keycode  85 =
 keycode  86 = less             greater          bar             
 	alt     keycode  86 = Meta_less       
-keycode  87 = F11              F11              Console_23      
+keycode  87 = F11              Scroll_Backward     Prior
 	control keycode  87 = F11             
 	alt     keycode  87 = Console_11      
 	control alt     keycode  87 = Console_11      
-keycode  88 = F12              F12              Console_24      
+keycode  88 = F12              Scroll_Forward      Next
 	control keycode  88 = F12             
 	alt     keycode  88 = Console_12      
 	control alt     keycode  88 = Console_12      
@@ -269,8 +295,6 @@
 string F8 = "\033[19~"
 string F9 = "\033[20~"
 string F10 = "\033[21~"
-string F11 = "\033[23~"
-string F12 = "\033[24~"
 string F13 = "\033[25~"
 string F14 = "\033[26~"
 string F15 = "\033[28~"
